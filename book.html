<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Title</title>
    <link rel="stylesheet" href="css/style.css">

</head>
<body>

<!-- Start: The container -->
<div id="container">

    <!-- Start: Left current chapter -->
    <div id="left">

        <!-- Start: Sticky container -->
        <div id="sticky-container">

            <!-- Start: The button -->
            <div id="button">
                <button class="flip-btn" id="btn">Book Title</button>
            </div><!-- End: The button -->

            <!-- Start: Current chapter heading, title and next chapter link -->
            <div id="current-chapter">

                <p class="chapter-heading">
                    Chapter 1:
                </p>

                <h3>
                    Chapter title
                </h3>

                <p id="next-previous">
                    <a title="Next Chapter" rel="next" href="">Next</a>
                </p>

            </div><!-- End: Current chapter heading, title and next chapter link -->

        </div><!-- End: Sticky container -->

    </div><!-- End: Left current chapter -->

    <!-- Start: Content column aka right -->
    <div id="right">
        <h2>
            Chapter title
        </h2>

        <p>
            One morning, when Gregor Sasa woke from troubled dreams, he found himself transformed
            in his bed into a horrible vermin.
        </p>
        <p>
            He lay on his armour-like back, and if he lifted his
            head a little he could see his brown belly, slightly domed and divided by arches into stiff
            sections.
        </p>
    </div>

</div><!-- End: The container -->

<!-- Start: Chapter Index -->
<div id="book-index">

    <a title="Show Index" class="flip-btn" id="close-btn" href="">&#9746;</a>
    <h1>
        <a title="Book Title" href="index.html">
            Book Title
        </a>
    </h1>
    <p class="subtitle">
        Short short introduction to this wonderful book you are writing.
        <br/><em>by Someone</em>
    </p>

    <!-- Start: Book index -->
    <ul>
        <li>
            <span>Chapter 1</span><br/>
            <a title="Introduction" href="">Introduction</a>
        </li>
        <li>
            <span>Chapter 2</span><br/>
            <a title="Getting Started" href="">Getting Started</a>
        </li>
        <li>
            <span>Chapter 3</span><br/>
            <a title="The Crux" href="">The Crux</a>
        </li>
        <li>
            <span>Chapter 4</span><br/>
            <a title="more.." href="">more..</a>
        </li>
    </ul><!-- End: Book index -->

    <p>&nbsp;</p>
    <p>&nbsp;</p>
    <p>&nbsp;</p>
    <p>&nbsp;</p>
    <p>&nbsp;</p>
    <p>&nbsp;</p>
    <p>&nbsp;</p>
    <p>&nbsp;</p>
    <p>&nbsp;</p>
    <p>&nbsp;</p>
    <p>&nbsp;</p>
    <p>&nbsp;</p>
    <p>&nbsp;</p>
    <p>&nbsp;</p>
    <p>&nbsp;</p>
    <p>&nbsp;</p>
    <p>&nbsp;</p>
    <p>&nbsp;</p>
    <p>&nbsp;</p>
    <p>&nbsp;</p>
    <p>&nbsp;</p>
    <p>&nbsp;</p>
    <p>&nbsp;</p>
    <p>&nbsp;</p>
</div>

<script>

    const buttons = document.querySelectorAll('.flip-btn');
    Array.from(buttons).forEach(function(buttons) {
        buttons.addEventListener('click', flipIndex);
    });
    // const btn = document.getElementById("btn");
    // btn.addEventListener("click", showChapterIndex, false);

    function flipIndex()
    {
        let book_index = document.getElementById("book-index");

        if (isHidden(book_index)) {
            book_index.style.display = "block";
        } else {
            book_index.style.display = "none";
        }
        return false;
    }
    // Where el is the DOM element you'd like to test for visibility
    function isHidden(el) {
        return (el.offsetParent === null)
    }
</script>

</body>
</html>